{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\Programing\\\\Node.js\\\\webapi2\\\\client\\\\src\\\\App.js\";\nimport React, { Component } from \"react\";\nimport \"./App.css\";\nimport axios from \"axios\";\nimport GameCard from \"./GameCard\";\nimport { Jumbotron, Alert, Container, Row, Col, Button, Form, FormGroup, Label, Input, FormText } from 'reactstrap';\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      this.setState({\n        alertVisible: false\n      }); //console.log(this.state.title);\n\n      const query = \"/create?id=\".concat(this.state.title);\n      console.log(this.state.title);\n      console.log(query);\n      axios.get(query).then(result => {\n        console.log(result.data);\n\n        if (result.data === 'Not found') {\n          this.setState({\n            alertVisible: true\n          });\n        }\n\n        this.getAllMovies();\n      }).catch(error => {\n        alert('Error: ', error);\n      });\n    };\n\n    this.getAllMovies = () => {\n      axios.get(\"/games\").then(result => {\n        this.setState({\n          movies: result.data\n        });\n        console.log(this.state.movies);\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.deleteRecord = value => {\n      console.log(\"to delete: \", value);\n      const query = \"/delete?id=\".concat(value);\n      axios.get(query).then(result => {\n        this.getAllMovies();\n      }).catch(error => {\n        alert(\"Error: \", error);\n      });\n    };\n\n    this.state = {\n      alertVisible: false,\n      title: '',\n      movies: [{\n        screenshot: '',\n        name: 'hello',\n        id: 1\n      }]\n    };\n    this.onChange = this.onChange.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.onDismiss = this.onDismiss.bind(this);\n  } //for popup\n\n\n  onDismiss() {\n    this.setState({\n      alertVisible: false\n    });\n  } //for form\n\n\n  // for form field\n  onChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  componentDidMount() {\n    this.getAllMovies();\n  }\n\n  //https://www.codementor.io/blizzerand/building-forms-using-react-everything-you-need-to-know-iz3eyoq4y\n  //todo add buttons to delete rows\n  //https://codepen.io/aaronschwartz/pen/awOyQq?editors=0010\n  //https://github.com/react-tools/react-table/issues/324\n  render() {\n    // let gameCards = this.state.movies.map(games => {\n    //     return (\n    //         <Col sm=\"4\">\n    //             <GameCard\n    //                 games={games}\n    //             />\n    //         </Col>\n    //     )\n    // });\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(Jumbotron, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"display-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, \"Movie Search\"), React.createElement(\"p\", {\n      className: \"lead\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, \"Search for movies\")), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(Alert, {\n      color: \"danger\",\n      isOpen: this.state.alertVisible,\n      toggle: this.onDismiss,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, \"Game not found\"))), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(Form, {\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(FormGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, React.createElement(Label, {\n      for: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, \"Enter Game title\"), React.createElement(Input, {\n      type: \"text\",\n      name: \"title\",\n      id: \"title\",\n      placeholder: \"enter game title...\",\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    })), React.createElement(Button, {\n      color: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, \"Submit\")))), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, React.createElement(Col, {\n      sm: \"4\",\n      key: this.state.movies[0].title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(GameCard, {\n      removeMovie: this.removeMovie.bind(this),\n      movie: this.state.movies,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:\\Users\\User\\Desktop\\Programing\\Node.js\\webapi2\\client\\src\\App.js"],"names":["React","Component","axios","GameCard","Jumbotron","Alert","Container","Row","Col","Button","Form","FormGroup","Label","Input","FormText","App","constructor","onSubmit","e","preventDefault","setState","alertVisible","query","state","title","console","log","get","then","result","data","getAllMovies","catch","error","alert","movies","deleteRecord","value","screenshot","name","id","onChange","bind","onDismiss","target","componentDidMount","render","removeMovie"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./App.css\";\r\nimport axios from \"axios\";\r\nimport GameCard from \"./GameCard\";\r\nimport {\r\n    Jumbotron,\r\n    Alert,\r\n    Container,\r\n    Row,\r\n    Col,\r\n    Button,\r\n    Form,\r\n    FormGroup,\r\n    Label,\r\n    Input,\r\n    FormText\r\n} from 'reactstrap';\r\n\r\nclass App extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            alertVisible: false,\r\n            title: '',\r\n            movies: [{ screenshot: '', name: 'hello', id: 1 }]\r\n        };\r\n\r\n        this.onChange = this.onChange.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n        this.onDismiss = this.onDismiss.bind(this);\r\n    }\r\n\r\n    //for popup\r\n    onDismiss() {\r\n        this.setState({ alertVisible: false });\r\n    }\r\n\r\n    //for form\r\n    onSubmit = e => {\r\n        e.preventDefault();\r\n        this.setState({ alertVisible: false });\r\n        //console.log(this.state.title);\r\n\r\n        const query = `/create?id=${this.state.title}`;\r\n        console.log(this.state.title);\r\n\r\n        console.log(query);\r\n\r\n        axios\r\n            .get(query)\r\n            .then(result => {\r\n                console.log(result.data);\r\n                if (result.data === 'Not found') {\r\n                    this.setState({ alertVisible: true });\r\n                }\r\n                this.getAllMovies();\r\n            })\r\n            .catch(error => {\r\n                alert('Error: ', error);\r\n            });\r\n    };\r\n\r\n    // for form field\r\n    onChange(e) {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        });\r\n    }\r\n\r\n    getAllMovies = () => {\r\n        axios\r\n            .get(\"/games\")\r\n            .then(result => {\r\n                this.setState({ movies: result.data });\r\n                console.log(this.state.movies);\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n            });\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.getAllMovies();\r\n    }\r\n\r\n    deleteRecord = value => {\r\n        console.log(\"to delete: \", value);\r\n        const query = `/delete?id=${value}`;\r\n        axios\r\n            .get(query)\r\n            .then(result => {\r\n                this.getAllMovies();\r\n            })\r\n            .catch(error => {\r\n                alert(\"Error: \", error);\r\n            });\r\n    };\r\n\r\n    //https://www.codementor.io/blizzerand/building-forms-using-react-everything-you-need-to-know-iz3eyoq4y\r\n    //todo add buttons to delete rows\r\n    //https://codepen.io/aaronschwartz/pen/awOyQq?editors=0010\r\n    //https://github.com/react-tools/react-table/issues/324\r\n    render() {\r\n\r\n        // let gameCards = this.state.movies.map(games => {\r\n\r\n        //     return (\r\n        //         <Col sm=\"4\">\r\n        //             <GameCard\r\n        //                 games={games}\r\n        //             />\r\n        //         </Col>\r\n\r\n        //     )\r\n        // });\r\n\r\n        return (\r\n            <div className=\"App\">\r\n                <Container>\r\n                    <Jumbotron>\r\n                        <h1 className=\"display-4\">Movie Search</h1>\r\n                        <p className=\"lead\">Search for movies</p>\r\n                    </Jumbotron>\r\n                    <Row>\r\n                        <Col>\r\n                            <Alert\r\n                                color=\"danger\"\r\n                                isOpen={this.state.alertVisible}\r\n                                toggle={this.onDismiss}\r\n                            >\r\n                                Game not found\r\n                  </Alert>\r\n                        </Col>\r\n                    </Row>\r\n                    <Row>\r\n                        <Col>\r\n                            <Form onSubmit={this.onSubmit}>\r\n                                <FormGroup>\r\n                                    <Label for=\"title\">Enter Game title</Label>\r\n                                    <Input\r\n                                        type=\"text\"\r\n                                        name=\"title\"\r\n                                        id=\"title\"\r\n                                        placeholder=\"enter game title...\"\r\n                                        onChange={this.onChange}\r\n                                    />\r\n                                </FormGroup>\r\n                                <Button color=\"primary\">Submit</Button>\r\n                            </Form>\r\n                        </Col>\r\n                    </Row>\r\n                    <p />\r\n                    <Row>\r\n                        {/* {gameCards} */}\r\n\r\n                        <Col sm=\"4\" key={this.state.movies[0].title}>\r\n                            <GameCard\r\n                                removeMovie={this.removeMovie.bind(this)}\r\n                                movie={this.state.movies}\r\n                            />\r\n                        </Col>\r\n                    </Row>\r\n                </Container>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}