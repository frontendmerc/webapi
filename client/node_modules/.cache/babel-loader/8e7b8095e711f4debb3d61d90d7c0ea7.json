{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\Programing\\\\Node.js\\\\webapi2\\\\client\\\\src\\\\App.js\";\nimport React, { Component } from \"react\";\nimport \"./App.css\";\nimport axios from \"axios\";\nimport GameCard from \"./GameCard\";\nimport { Jumbotron, Alert, Container, Row, Col, Button, Form, FormGroup, Label, Input, FormText } from 'reactstrap';\nimport { Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.toggle = () => {\n      this.setState({\n        modal: !this.state.modal\n      });\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      this.setState({\n        alertVisible: false\n      }); //console.log(this.state.title);\n\n      const query = \"/create?name=\".concat(this.state.title);\n      console.log(this.state.title);\n      console.log(query);\n      axios.get(query).then(result => {\n        console.log(result.data);\n\n        if (result.data === 'Not found') {\n          this.setState({\n            alertVisible: true\n          });\n        }\n\n        this.getAllMovies();\n      }).catch(error => {\n        alert('Error: ', error);\n      });\n    };\n\n    this.onFindGame = e => {\n      e.preventDefault();\n      this.setState({\n        alertVisible: false\n      });\n      const query = \"/findgame?name=\".concat(this.state.title);\n      console.log(query);\n      axios.get(query).then(result => {\n        this.setState({\n          movies: result.data\n        });\n        console.log(result.state.movies);\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.getAllMovies = () => {\n      axios.get(\"/games\").then(result => {\n        this.setState({\n          movies: result.data\n        });\n        console.log(this.state.movies);\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.deleteRecord = value => {\n      console.log(\"to delete: \", value);\n      const query = \"/delete?id=\".concat(value);\n      axios.get(query).then(result => {\n        this.getAllMovies();\n      }).catch(error => {\n        alert(\"Error: \", error);\n      });\n    };\n\n    this.state = {\n      alertVisible: false,\n      title: '',\n      movies: [{\n        screenshot: '',\n        name: 'hello',\n        id: 1\n      }],\n      modal: false\n    };\n    this.onChange = this.onChange.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.onFindGame = this.onFindGame.bind(this);\n    this.onDismiss = this.onDismiss.bind(this);\n    this.toggle = this.toggle.bind(this);\n  }\n\n  //for popup\n  onDismiss() {\n    this.setState({\n      alertVisible: false\n    });\n  } //for form\n\n\n  // for form field\n  onChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  onChangeFindGame(e) {\n    this.onFindGame();\n  }\n\n  componentDidMount() {\n    this.getAllMovies();\n  }\n\n  //https://www.codementor.io/blizzerand/building-forms-using-react-everything-you-need-to-know-iz3eyoq4y\n  //todo add buttons to delete rows\n  //https://codepen.io/aaronschwartz/pen/awOyQq?editors=0010\n  //https://github.com/react-tools/react-table/issues/324\n  render() {\n    let gameCards = this.state.movies.map(games => {\n      return React.createElement(Col, {\n        xs: \"4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, React.createElement(GameCard, {\n        removeGame: this.deleteRecord.bind(this),\n        games: games,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }));\n    });\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, React.createElement(Jumbotron, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"display-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, \"Game Search\"), React.createElement(\"p\", {\n      className: \"lead\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, \"Search for game\")), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, React.createElement(Alert, {\n      color: \"danger\",\n      isOpen: this.state.alertVisible,\n      toggle: this.onDismiss,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, \"Game not found\"))), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, React.createElement(Form, {\n      onSubmit: this.onFindGame,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, React.createElement(FormGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, React.createElement(Label, {\n      for: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, \"Find Game\"), React.createElement(Input, {\n      type: \"text\",\n      name: \"title\",\n      id: \"findGame\",\n      placeholder: \"enter game title...\",\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    })), React.createElement(Button, {\n      color: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, \"Submit\"))), React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }, React.createElement(Button, {\n      color: \"danger\",\n      onClick: this.toggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, \"Request a game\"), React.createElement(Modal, {\n      isOpen: this.state.modal,\n      toggle: this.toggle,\n      className: \"modaltest\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }, React.createElement(ModalHeader, {\n      toggle: this.toggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, \"Request a game\"), React.createElement(ModalBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }, React.createElement(Form, {\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, React.createElement(FormGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, React.createElement(Label, {\n      for: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, \"Add a Game\"), React.createElement(Input, {\n      type: \"text\",\n      name: \"title\",\n      id: \"title\",\n      placeholder: \"enter game title...\",\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    })), React.createElement(Button, {\n      color: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, \"Submit\"))))))), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }, gameCards)));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:\\Users\\User\\Desktop\\Programing\\Node.js\\webapi2\\client\\src\\App.js"],"names":["React","Component","axios","GameCard","Jumbotron","Alert","Container","Row","Col","Button","Form","FormGroup","Label","Input","FormText","Modal","ModalHeader","ModalBody","ModalFooter","App","constructor","toggle","setState","modal","state","onSubmit","e","preventDefault","alertVisible","query","title","console","log","get","then","result","data","getAllMovies","catch","error","alert","onFindGame","movies","err","deleteRecord","value","screenshot","name","id","onChange","bind","onDismiss","target","onChangeFindGame","componentDidMount","render","gameCards","map","games"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./App.css\";\r\nimport axios from \"axios\";\r\nimport GameCard from \"./GameCard\";\r\nimport {\r\n    Jumbotron,\r\n    Alert,\r\n    Container,\r\n    Row,\r\n    Col,\r\n    Button,\r\n    Form,\r\n    FormGroup,\r\n    Label,\r\n    Input,\r\n    FormText\r\n} from 'reactstrap';\r\n\r\nimport {\r\n\r\n    Modal,\r\n    ModalHeader,\r\n    ModalBody,\r\n    ModalFooter\r\n} from 'reactstrap';\r\n\r\nclass App extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            alertVisible: false,\r\n            title: '',\r\n            movies: [{ screenshot: '', name: 'hello', id: 1 }],\r\n            modal: false\r\n        };\r\n\r\n        this.onChange = this.onChange.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n        this.onFindGame = this.onFindGame.bind(this);\r\n        this.onDismiss = this.onDismiss.bind(this);\r\n        this.toggle = this.toggle.bind(this);\r\n    }\r\n\r\n    toggle = () => {\r\n        this.setState({\r\n            modal: !this.state.modal\r\n        });\r\n    }\r\n\r\n    //for popup\r\n    onDismiss() {\r\n        this.setState({ alertVisible: false });\r\n    }\r\n\r\n    //for form\r\n    onSubmit = e => {\r\n        e.preventDefault();\r\n        this.setState({ alertVisible: false });\r\n        //console.log(this.state.title);\r\n\r\n        const query = `/create?name=${this.state.title}`;\r\n        console.log(this.state.title);\r\n\r\n        console.log(query);\r\n\r\n        axios\r\n            .get(query)\r\n            .then(result => {\r\n                console.log(result.data);\r\n                if (result.data === 'Not found') {\r\n                    this.setState({ alertVisible: true });\r\n                }\r\n                this.getAllMovies();\r\n            })\r\n            .catch(error => {\r\n                alert('Error: ', error);\r\n            });\r\n    };\r\n\r\n    onFindGame = e => {\r\n\r\n        e.preventDefault();\r\n        this.setState({ alertVisible: false });\r\n\r\n        const query = `/findgame?name=${this.state.title}`;\r\n        console.log(query);\r\n\r\n        axios.get(query).\r\n            then(result => {\r\n\r\n                this.setState({ movies: result.data });\r\n                console.log(result.state.movies);\r\n            }).catch(err => {\r\n                console.log(err);\r\n            });\r\n\r\n    }\r\n\r\n    // for form field\r\n    onChange(e) {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        });\r\n\r\n    }\r\n\r\n    onChangeFindGame(e){\r\n        this.onFindGame();\r\n    }\r\n\r\n    getAllMovies = () => {\r\n        axios\r\n            .get(\"/games\")\r\n            .then(result => {\r\n                this.setState({ movies: result.data });\r\n                console.log(this.state.movies);\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n            });\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.getAllMovies();\r\n    }\r\n\r\n    deleteRecord = value => {\r\n        console.log(\"to delete: \", value);\r\n        const query = `/delete?id=${value}`;\r\n        axios\r\n            .get(query)\r\n            .then(result => {\r\n                this.getAllMovies();\r\n            })\r\n            .catch(error => {\r\n                alert(\"Error: \", error);\r\n            });\r\n    };\r\n\r\n    //https://www.codementor.io/blizzerand/building-forms-using-react-everything-you-need-to-know-iz3eyoq4y\r\n    //todo add buttons to delete rows\r\n    //https://codepen.io/aaronschwartz/pen/awOyQq?editors=0010\r\n    //https://github.com/react-tools/react-table/issues/324\r\n    render() {\r\n\r\n        let gameCards = this.state.movies.map(games => {\r\n\r\n            return (\r\n                <Col xs=\"4\">\r\n                    <GameCard\r\n                        removeGame={this.deleteRecord.bind(this)}\r\n                        games={games}\r\n                    />\r\n                </Col>\r\n\r\n            )\r\n        });\r\n\r\n        return (\r\n            <div className=\"App\">\r\n                <Container>\r\n                    <Jumbotron>\r\n                        <h1 className=\"display-4\">Game Search</h1>\r\n                        <p className=\"lead\">Search for game</p>\r\n                    </Jumbotron>\r\n                    <Row>\r\n                        <Col>\r\n                            <Alert\r\n                                color=\"danger\"\r\n                                isOpen={this.state.alertVisible}\r\n                                toggle={this.onDismiss}\r\n                            >\r\n                                Game not found\r\n                            </Alert>\r\n                        </Col>\r\n                    </Row>\r\n                    <Row>\r\n                        <Col>\r\n                            <Form onSubmit={this.onFindGame}>\r\n                                <FormGroup>\r\n                                    <Label for=\"title\">Find Game</Label>\r\n                                    <Input\r\n                                        type=\"text\"\r\n                                        name=\"title\"\r\n                                        id=\"findGame\"\r\n                                        placeholder=\"enter game title...\"\r\n                                        onChange={this.onChange}\r\n                                    />\r\n                                </FormGroup>\r\n                                <Button color=\"primary\">Submit</Button>\r\n                            </Form>\r\n                        </Col>\r\n\r\n                        <Col>\r\n                            <div>\r\n                                <Button color=\"danger\" onClick={this.toggle}>Request a game</Button>\r\n                                <Modal isOpen={this.state.modal} toggle={this.toggle} className=\"modaltest\">\r\n                                    <ModalHeader toggle={this.toggle}>Request a game</ModalHeader>\r\n                                    <ModalBody>\r\n\r\n                                        <Form onSubmit={this.onSubmit}>\r\n                                            <FormGroup>\r\n                                                <Label for=\"title\">Add a Game</Label>\r\n                                                <Input\r\n                                                    type=\"text\"\r\n                                                    name=\"title\"\r\n                                                    id=\"title\"\r\n                                                    placeholder=\"enter game title...\"\r\n                                                    onChange={this.onChange}\r\n                                                />\r\n                                            </FormGroup>\r\n                                            <Button color=\"primary\">Submit</Button>\r\n                                        </Form>\r\n\r\n                                    </ModalBody>\r\n                                </Modal>\r\n                            </div>\r\n\r\n                        </Col>\r\n\r\n                    </Row>\r\n                    <Row>\r\n                        {gameCards}\r\n                    </Row>\r\n                </Container>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}